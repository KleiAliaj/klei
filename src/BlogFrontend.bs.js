// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Js_dict from "rescript/lib/es6/js_dict.js";
import * as Js_json from "rescript/lib/es6/js_json.js";
import * as Js_null from "rescript/lib/es6/js_null.js";
import * as Caml_obj from "rescript/lib/es6/caml_obj.js";
import * as Belt_Option from "rescript/lib/es6/belt_Option.js";
import * as Json_decode from "@glennsl/bs-json/src/Json_decode.bs.js";
import * as Caml_js_exceptions from "rescript/lib/es6/caml_js_exceptions.js";

function decode(id, rawJson) {
  var data;
  try {
    data = {
      body: Js_null.fromOption(Belt_Option.map(Belt_Option.flatMap(Belt_Option.flatMap(Js_json.decodeObject(rawJson), (function (json) {
                          return Js_dict.get(json, "body");
                        })), Js_json.decodeObject), (function (body) {
                  return body;
                }))),
      date: Js_null.fromOption(Json_decode.optional((function (param) {
                  return Json_decode.field("date", Json_decode.string, param);
                }), rawJson)),
      id: id,
      lang: Js_null.fromOption(Json_decode.optional((function (param) {
                  return Json_decode.field("lang", Json_decode.string, param);
                }), rawJson)),
      title: Js_null.fromOption(Json_decode.optional((function (param) {
                  return Json_decode.field("title", Json_decode.string, param);
                }), rawJson))
    };
  }
  catch (raw_str){
    var str = Caml_js_exceptions.internalToOCamlException(raw_str);
    if (str.RE_EXN_ID === Json_decode.DecodeError) {
      return {
              TAG: /* Error */1,
              _0: str._1
            };
    }
    throw str;
  }
  return {
          TAG: /* Ok */0,
          _0: data
        };
}

function orderByDate(posts) {
  return posts.slice().sort(function (a, b) {
              var aV = a.date;
              var bV = b.date;
              if (aV === bV) {
                return 0;
              } else if (Caml_obj.caml_greaterthan(aV, bV)) {
                return -1;
              } else {
                return 1;
              }
            });
}

var dumbDate = "0001-01-01";

export {
  decode ,
  dumbDate ,
  orderByDate ,
  
}
/* No side effect */
