{"title":"Configurer un Serveur Web Apache PHP MySQL sur OS X Lion","headings":[{"level":2,"text":"Activer Apache/PHP en quelques secondes sur OS X Lion","id":"activer-apachephp-en-quelques-secondes-sur-os-x-lion"},{"level":2,"text":"Installer MySQL sur OS X Lion","id":"installer-mysql-sur-os-x-lion"},{"level":2,"text":"Petite touche en plus : xDebug","id":"petite-touche-en-plus--xdebug"}],"date":"2011-11-15T00:00:00.000Z","lang":"fr","tags":["os x","apache","mysql","php"],"body":{"tag":"div","children":[{"tag":"p","children":["Ayant mis à jour récemment mon système d’exploitation (OS X 10.6 ",{"tag":"em","children":["Snow Leopard"]},"\nà ",{"tag":"strong","children":["OS X 10.7 ",{"tag":"em","children":["Lion"]}]},"), j’ai du réinstaller mon serveur web dessus. La\nprécédente technique que j’avais utilisé était basé sur MacPorts, j’avais donc\nécris un article à ce sujet:\n",{"tag":"a","props":{"href":"/blog/installer-serveur-web-apache-php-mysql-mac-os-x-macports/"},"children":["Installer Apache PHP MySQL sous Mac OS X"]},".\nComme je l’expliquais dans cette article, cette solution est pour moi la plus\nintéressante lorsque l’on cherche un serveur web AMP complet."]},"\n",{"tag":"p","children":["Mais aujourd’hui, j’utilise lorsque j’ai besoin d’un vrai serveur digne de ce\nnom, j’utilise la virtualisation avec Vagrant et VirtualBox (cela fera peut être\nl’objet d’un autre billet) afin d’avoir un environnement proche de celui que\nj’ai en production."]},"\n",{"tag":"p","children":["Du coup, nativement sur mon Mac OS, je n’ai besoin que d’un simple ",{"tag":"strong","children":["serveur web\nApache/PHP/MySQL "]},". Rien qui casse la baraque, juste de quoi faire tourner\nquelques petits scripts (voir un WordPress) sans allumer une VM. Si vous\ncherchez une solution complète, ej vous invite à vous rendre sur mon lien\nci-dessus."]},"\n",{"tag":"h2","props":{"id":"activer-apachephp-en-quelques-secondes-sur-os-x-lion"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#activer-apachephp-en-quelques-secondes-sur-os-x-lion"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"Activer Apache/PHP en quelques secondes sur OS X Lion"]},"\n",{"tag":"p","children":["Maintenant que ",{"tag":"em","children":["OS X Lion"]}," vient de sortir, les versions des logiciels qu’ils\nembarquent sont assez récente. ",{"tag":"strong","children":["Apache 2"]}," est juste à activer dans les\npréférences du système dans la partie qui concerne le ",{"tag":"em","children":["Partage"]}," (",{"tag":"em","children":["Sharing"]}," si\nvotre OS est en anglais)"]},"\n",{"tag":"figure","props":{"class":"flex-media--unknown"},"children":["\n  ",{"tag":"img","props":{"src":"/media/2011/07/OS-X-Lion-System-Preferences-Sharing.png","alt":"","title":"OS-X-Lion--System-Preferences--Sharing","class":"flex-media__item"}},"\n"]},"\n",{"tag":"figure","props":{"class":"flex-media--unknown"},"children":["\n  ",{"tag":"img","props":{"src":"/media/2011/07/OS-X-Lion-System-Preferences-Sharing-Web-Sharing.png","alt":"","title":"OS-X-Lion--System-Preferences--Sharing--Web-Sharing","class":"flex-media__item"}},"\n"]},"\n",{"tag":"p","children":["Vous pouvez vérifier en cliquant sur un des liens que Apache fonctionne bien.\nVous devriez voir une page avec « It works ! »."]},"\n",{"tag":"p","children":["Ensuite il faut activer sur Apache le module PHP 5 (5.3.6). Rien de complexe.\nAvec Terminal.app (",{"tag":"code","children":["/Application/Utilitaires/Terminal.app"]},"), un coup de\n",{"tag":"code","children":["sudo pico /etc/apache2/httpd.conf"]}," devrait vous ouvrir le fichier de\nconfiguration d’Apache dans la console."]},"\n",{"tag":"p","children":[{"tag":"em","children":["Remarque: pour toutes les commandes qui commencent par ",{"tag":"code","children":["sudo"]}," (Super\nUtilisateur DO), il vous est demandé un mot de passe. Utilisez celui de votre\nsession (et ne vous inquiétez pas si vous ne voyez aucun caratère s’afficher\nlorsque vous tapez, c’est normal – sécurité des systèmes & co)."]}]},"\n",{"tag":"p","children":["Sinon avec le Finder ",{"tag":"kbd","children":["⇧"]},"+",{"tag":"kbd","children":["⌘"]},"+",{"tag":"kbd","children":["G"]}," (Go to the folder).\nEntrez ",{"tag":"code","children":["/private/etc/apache2/httpd.conf"]}," puis ouvrez ",{"tag":"code","children":["httpd.conf"]}," (mais là vous\ndevrez avoir les droits sur le fichiers pour le modifier – préférez donc la\nméthode du Terminal). Cherchez et décommentez dans le premier quart du fichier\nla ligne ",{"tag":"code","children":["LoadModule php5_module libexec/apache2/libphp5.so"]},". Il suffit\nd’enlever le ",{"tag":"strong","children":["#"]}," présent au début de la ligne."]},"\n",{"tag":"h2","props":{"id":"installer-mysql-sur-os-x-lion"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#installer-mysql-sur-os-x-lion"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"Installer MySQL sur OS X Lion"]},"\n",{"tag":"p","children":["Pour installer MySQL simplement, il suffit d’utiliser les packages du site\nofficiel:\n",{"tag":"a","props":{"href":"http://dev.mysql.com/downloads/mysql/"},"children":["http://dev.mysql.com/downloads/mysql/"]},".\nInstallez MySQL, puis le panneau de préférence afin de pouvoir\nactiver/désactiver MySQL à souhait, ainsi que si vous en avez besoin, le paquet\npour avoir MySQL avec qui démarre avec le système. Une fois les paquets\ninstallés, il reste à « brancher » PHP et MySQL ensemble."]},"\n",{"tag":"p","children":["Un petit tour dans la configuration de PHP pour ajuster le lien entre MySQL et\nPHP: Allez dans ",{"tag":"code","children":["/private/etc/"]}," et copier ",{"tag":"code","children":["php.ini.default"]}," en ",{"tag":"code","children":["php.ini"]},", ceci\nafin de pouvoir adapter la configuration. Modifier directement le\n",{"tag":"code","children":["php.ini.default"]}," ne servirait à rien."]},"\n",{"tag":"p","children":["Avec Terminal.app , rien de plus simple il vous suffit d’exécuter les lignes\nsuivantes:"]},"\n",{"tag":"pre","children":[{"tag":"code","props":{"class":"hljs language-bash"},"children":[{"tag":"span","props":{"class":"hljs-comment"},"children":["# copie du fichier"]},"\nsudo cp /private/etc/php.ini.default /private/etc/php.ini\n",{"tag":"span","props":{"class":"hljs-comment"},"children":["# ouverture pour édition"]},"\nsudo open -a TextEdit /private/etc/php.ini"]}]},"\n",{"tag":"p","children":["Modifiez dedans (en plus de vos ajustements personnels) les valeurs des sockets\npour MySQL : remplacez ",{"tag":"code","children":["/var/mysql"]}," en ",{"tag":"code","children":["/tmp"]}," aux différents endroits (pour\nl’extension [MySQL], [MySQLi] et [Pdo_mysql]) afin d’avoir un socket qui pointe\nsur ",{"tag":"code","children":["/tmp/mysql.sock"]}," (valeur par défaut du package MySQL pour Mac OS X)"]},"\n",{"tag":"h2","props":{"id":"petite-touche-en-plus--xdebug"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#petite-touche-en-plus--xdebug"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"Petite touche en plus : xDebug"]},"\n",{"tag":"p","children":["xDebug est déjà présent sur le système dans ",{"tag":"code","children":["/usr/lib/php/extensions"]},", il suffit\nde l’activer. Ajouter dans votre php.ini (cf configuration de php ci-dessus)"]},"\n",{"tag":"pre","children":[{"tag":"code","props":{"class":"hljs language-ini"},"children":[{"tag":"span","props":{"class":"hljs-section"},"children":["[xdebug]"]},"\n",{"tag":"span","props":{"class":"hljs-attr"},"children":["zend_extension"]},"=/usr/lib/php/extensions/",{"tag":"span","props":{"class":"hljs-literal"},"children":["no"]},"-debug-non-zts-",{"tag":"span","props":{"class":"hljs-number"},"children":["20090626"]},"/xdebug.so\n",{"tag":"span","props":{"class":"hljs-comment"},"children":["; more option ?"]}]}]},"\n",{"tag":"p","children":["Toutes les ",{"tag":"a","props":{"href":"http://xdebug.org/docs/all_settings"},"children":["options de xdebug"]}," sont\ndisponibles accessible sur le site officiel."]},"\n",{"tag":"p","children":["Et voilà le tour est joué ! Vous voilà avec ",{"tag":"strong","children":["Apache 2, PHP 5.3.6 et MySQL 5.5\net xDebug sur MAC OS X Lion 10.7 !"]}]}]}}