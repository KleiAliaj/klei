{"title":"Coder en Javascript dans une console","headings":[{"level":2,"text":"A quoi ça sert de coder du Javascript dans une console ?","id":"a-quoi-ça-sert-de-coder-du-javascript-dans-une-console-"},{"level":3,"text":"$0 ?","id":"0-"},{"level":3,"text":"Utilisation : compter le texte d’un paragraphe","id":"utilisation--compter-le-texte-dun-paragraphe"},{"level":3,"text":"Coder plus d’un ligne","id":"coder-plus-dun-ligne"},{"level":2,"text":"Ajouter jQuery dans n’importe quelle page depuis une console Javascript","id":"ajouter-jquery-dans-nimporte-quelle-page-depuis-une-console-javascript"}],"date":"2011-04-18T00:00:00.000Z","lang":"fr","tags":["javascript","jquery"],"body":{"tag":"div","children":[{"tag":"p","children":["Depuis l’apparition des consoles Javascript, on peut debugger plus facilement\ndes erreurs de scripts, qui à l’époque d’IE6 & co se faisait à coup de alert().\nUn chose que je ne trouve pas très répandu, c’est d’utiliser ces consoles pour\ncoder directement, de petit morceaux de code, sans se (re)taper d’ajouter du\nscript inline, ou un fichier juste pour avoir bonne conscience. Avec une console\navancée, on peut même éditer des scripts en cours d’exécution !"]},"\n",{"tag":"h2","props":{"id":"a-quoi-ça-sert-de-coder-du-javascript-dans-une-console-"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#a-quoi-ça-sert-de-coder-du-javascript-dans-une-console-"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"A quoi ça sert de coder du Javascript dans une console ?"]},"\n",{"tag":"p","children":["Un exemple très simple sera plus parlant : vous voyez un paragraphe de texte et\nvous vous demandez combien il comporte de caractères. Et là vous commencez à\ncompter… 1, 2, 3… Sttoooppp ! On peut faire ça en javascript ! Sans perdre du\ntemps ! En admettant que vous ayez une console javascript digne de ce nom (la\nconsole Webkit en fait partie – Chrome, Safari…), vous avez un shortcut vraiment\nénorme. C’est le ",{"tag":"strong","children":["$0"]},"."]},"\n",{"tag":"h3","props":{"id":"0-"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#0-"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"$0 ?"]},"\n",{"tag":"p","children":["$0 est très simple d’utilisation, et peut être très utile. Choisissez un élément\nsur une page web, faites une inspection de l’élément (sous Webkit et Gecko, un\nsimple clic droit dessus et « Inspect Element » / « Inspecter l’élément » fait\nl’affaire). Allez dans votre console Javascript, et tapez $0 (puis Enter). Et là\nmagie, cette variable contient une référence du noeud DOM en question ! C’est\nassez énorme je trouve."]},"\n",{"tag":"h3","props":{"id":"utilisation--compter-le-texte-dun-paragraphe"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#utilisation--compter-le-texte-dun-paragraphe"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"Utilisation : compter le texte d’un paragraphe"]},"\n",{"tag":"p","children":["Admettons que vous cherchez à compter le nombre de caractères dans une ",{"tag":"code","children":["<div>"]},",\ninspectez là, puis dans votre console entrez-y la ligne suivante:"]},"\n",{"tag":"pre","children":[{"tag":"code","props":{"class":"hljs language-js"},"children":["$",{"tag":"span","props":{"class":"hljs-number"},"children":["0."]},"innerHTML.length;"]}]},"\n",{"tag":"p","children":["Et voilà vous avez votre résultat !"]},"\n",{"tag":"p","children":["Bien entendu il est bien évidement possible d’avoir des utilisations bien plus\npoussé de cette technique, comme par exemple récupérer tous les liens d’une page\npour avoir leur href ou pour les entourer en rouge."]},"\n",{"tag":"h3","props":{"id":"coder-plus-dun-ligne"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#coder-plus-dun-ligne"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"Coder plus d’un ligne"]},"\n",{"tag":"p","children":["Voici quelques trucs utile à savoir pour avoir une utilisation correcte des\nconsoles javascript :"]},"\n",{"tag":"ul","children":["\n",{"tag":"li","children":["Utiliser les flèches du clavier Haut et Bas pour naviguer dans les précédentes\ncommandes effectués, comme dans un terminal;"]},"\n",{"tag":"li","children":["Penser à Shift+Enter pour faire des retours à la ligne sans exécuter le code;"]},"\n",{"tag":"li","children":["La touche TABulation vous permet d’avoir une autocomplétion. Appuyez dessus\nplusieurs fois vous présentera les différentes options à votre disposition."]},"\n"]},"\n",{"tag":"h2","props":{"id":"ajouter-jquery-dans-nimporte-quelle-page-depuis-une-console-javascript"},"children":[{"tag":"a","props":{"aria-hidden":"true","href":"#ajouter-jquery-dans-nimporte-quelle-page-depuis-une-console-javascript"},"children":[{"tag":"span","props":{"class":"icon icon-link"}}]},"Ajouter jQuery dans n’importe quelle page depuis une console Javascript"]},"\n",{"tag":"p","children":["Lorsque l’on fait vite mumuse avec cette technique, il peut s’avérer judicieux\nd’utiliser jQuery ou une librairie quelconque de votre choix pour gagner encore\nen rapidité, et jQuery n’est pas encore sur toutes les pages web (",{"tag":"a","props":{"href":"https://twitter.com/mathias/status/59692133157842946","title":"Statistique jQuery/Flash sur les pages web"},"children":["même si ça\ns’en reproche"]},") Alors voilà une petite technique de sioux afin d’ajouter\njQuery (ou autre) dans la page en cours."]},"\n",{"tag":"pre","children":[{"tag":"code","props":{"class":"hljs language-js"},"children":[{"tag":"span","props":{"class":"hljs-keyword"},"children":["if"]}," (",{"tag":"span","props":{"class":"hljs-keyword"},"children":["typeof"]}," jQuery == ",{"tag":"span","props":{"class":"hljs-string"},"children":["\"undefined\""]},") {\n  ",{"tag":"span","props":{"class":"hljs-keyword"},"children":["var"]}," myScript = ",{"tag":"span","props":{"class":"hljs-built_in"},"children":["document"]},".createElement(",{"tag":"span","props":{"class":"hljs-string"},"children":["\"script\""]},");\n  myScript.setAttribute(\n    ",{"tag":"span","props":{"class":"hljs-string"},"children":["\"src\""]},",\n    ",{"tag":"span","props":{"class":"hljs-string"},"children":["\"http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js\""]},"\n  ); ",{"tag":"span","props":{"class":"hljs-comment"},"children":["// you can change this filename"]},"\n  ",{"tag":"span","props":{"class":"hljs-built_in"},"children":["document"]},".getElementsByTagName(",{"tag":"span","props":{"class":"hljs-string"},"children":["\"head\""]},")[",{"tag":"span","props":{"class":"hljs-number"},"children":["0"]},"].appendChild(myScript);\n}"]}]},"\n",{"tag":"p","children":["N.B. : Si justement vous n’avez pas jQuery déjà inclus, il se peut que l’ajouter\nprovoque des soucis si la variable $ est utile à la page (ce qui peut être le\ncas si une librairie tel que ProtoypeJs est inclus). Il faut donc utiliser la\nméthode de jQuery pour palier à ce problème :"]},"\n",{"tag":"pre","children":[{"tag":"code","props":{"class":"hljs language-js"},"children":["jQuery.noConflict(); ",{"tag":"span","props":{"class":"hljs-comment"},"children":["// if you think there will be a problem with \"$\""]}]}]},"\n",{"tag":"p","children":["Ce qui impliquer d’utiliser par la suite jQuery avec son vrai nom plutôt que $\n(ex: jQuery(‘.selector’).plugin() )."]},"\n",{"tag":"p","children":["Ainsi on pourra faire des choses plus avancés facilement. Si on reprends mon\nexemple de tout à l’heure où j’ai compté les caractères d’une div, vous avez\npeut être remarqué le soucis que cette technique peut avoir : si vous avez de\nl’HTML dedans, le nombre de caractère est faussé puisque cela va compter les\ncaractères réservés à l’HTML. Avec jQuery, ça devient aussi simple que ça pour\ncontourner le problème :"]},"\n",{"tag":"pre","children":[{"tag":"code","props":{"class":"hljs language-js"},"children":["jQuery($",{"tag":"span","props":{"class":"hljs-number"},"children":["0"]},").text().length;"]}]},"\n",{"tag":"p","children":["And voilà… Vous prendrez vite goût à cette technique qui peut devenir très\nutile. D’ailleurs si vous avez des petits snippets sympathiques, n’hésitez pas à\nles poster dans les commentaires, je pourrais très bien ajouter une liste de\ncommandes utiles en dessous de cette article !"]},"\n",{"tag":"p","children":["Ajout du 17 mai 2011 : Je vous invite à ",{"tag":"a","props":{"href":"http://www.paulirish.com/2011/a-re-introduction-to-the-chrome-developer-tools/"},"children":["redécouvrir l’outil de dév. de Chrome,\nvia une vidéo du dernier Google I/O présenté par Paul Irish"]}]}]}}